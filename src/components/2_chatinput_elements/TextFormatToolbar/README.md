# TextFormatToolbar

Компонент тултипа с кнопками форматирования текста, который появляется при выделении текста в textarea.

## Функциональность

- Автоматически появляется при выделении текста в textarea
- Предоставляет кнопки для форматирования: жирный, курсив, подчёркнутый, зачёркивание, встроенный код, цитата
- Вставляет Markdown-синтаксис вокруг выделенного текста
- Автоматически позиционируется над выделенным текстом
- Поддерживает темизацию

## Использование

```vue
<template>
  <div>
    <textarea ref="textareaRef" v-model="text" />
    <TextFormatToolbar
      :textarea="textareaRef"
      @format-applied="handleFormatApplied"
    />
  </div>
</template>

<script setup>
import { ref } from 'vue';
import { TextFormatToolbar } from '@/components';

const textareaRef = ref(null);
const text = ref('');

const handleFormatApplied = (data) => {
  // data содержит: format, selectedText, start, end, newText
  text.value = data.newText;
  // Обновить позицию курсора при необходимости
};
</script>
```

## События

- `format-applied` - вызывается при применении форматирования
  - `format` - тип форматирования (bold, italic, underline, strikethrough, code, quote)
  - `selectedText` - выделенный текст
  - `start` - начальная позиция выделения
  - `end` - конечная позиция выделения
  - `newText` - новый текст с применённым форматированием

## Props

- `textarea` (HTMLTextAreaElement | null) - ссылка на textarea элемент

## Поддерживаемые форматы

- **Жирный** (`**текст**`) - оборачивает выделенный текст в `**`
- **Курсив** (`*текст*`) - оборачивает выделенный текст в `*`
- **Подчёркнутый** (`<u>текст</u>`) - оборачивает выделенный текст в HTML теги `<u>`
- **Зачёркивание** (`~~текст~~`) - оборачивает выделенный текст в `~~`
- **Встроенный код** (`` `текст` ``) - оборачивает выделенный текст в обратные кавычки
- **Цитата** (`> текст`) - добавляет `> ` в начало каждой строки выделенного текста

## Особенности

- Тултип автоматически скрывается при потере выделения или при клике вне его
- Поддерживает многострочное выделение для формата "Цитата"
- Позиционируется над выделенным текстом с учётом прокрутки textarea

